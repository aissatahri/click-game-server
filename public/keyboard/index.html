<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simulateur : Utilisation du clavier — Exercices & QCM</title>

  <!-- Charger d'abord le CSS global puis le CSS spécifique au simulateur. -->
  <link rel="stylesheet" href="/style.css?v=3" />
  <link rel="stylesheet" href="/keyboard/style.css?v=3" />
</head>
<body>
  <header class="panel">
    <div class="header-inner container">
      <div class="brand">
        <h1>Simulateur : Utilisation du clavier</h1>
        <p class="tag">Exercices pratiques et QCM pour apprendre le clavier (AZERTY / autres).</p>
      </div>
    </div>
  </header>

  <main class="container main">
    <section class="left">

      <h2>Schéma du clavier — zones cliquables</h2>

      <!-- Keyboard wrapper: image + overlay zones -->
      <div id="keyboard-illustration" class="panel keyboard-wrapper">
        <img id="kb-img" src="images/keyboard.png" alt="Schéma du clavier (AZERTY) — zones colorées" />

        <div class="overlay" id="overlay">
          <div class="zone zone-fn" data-zone-id="zone-fn" title="Fonctions - cliquez"></div>
          <div class="zone zone-alpha" data-zone-id="zone-alpha" title="Clavier alphanumérique - cliquez"></div>
          <div class="zone zone-navi" data-zone-id="zone-navi" title="Touches de mouvement - cliquez"></div>
          <div class="zone zone-num" data-zone-id="zone-num" title="Pavé numérique - cliquez"></div>
        </div>

        <p class="hint">Clique sur une zone colorée de l'image pour voir la question la concernant.</p>
      </div>

      <!-- Editor controls (optionnel) -->
      <div id="overlay-editor" class="panel">
        <label for="zone-select">Zone à éditer :</label>
        <select id="zone-select" aria-label="Choisir la zone à éditer">
          <option value="zone-fn">zone-fn (Fonctions)</option>
          <option value="zone-alpha">zone-alpha (Alphanumérique)</option>
          <option value="zone-navi">zone-navi (Navigation)</option>
          <option value="zone-num">zone-num (Pavé numérique)</option>
        </select>

        <div class="actions" style="margin-top:8px;">
          <button id="toggle-edit" type="button">Entrer en mode Édition</button>
          <button id="reset-zones" type="button" class="secondary">Restorer positions par défaut</button>
          <button id="export-zones" type="button" class="ghost">Exporter positions (JSON)</button>
        </div>

        <div class="editor-hint small" style="margin-top:8px;">
          Mode édition : clique-glisse sur l'image pour définir la zone sélectionnée. Positions sauvegardées en % dans localStorage.
        </div>
      </div>

      <div id="zone-question" class="panel hidden" aria-live="polite"></div>

      <h2>Exercices pratiques</h2>

      <article class="exercise panel">
        <h3>1) Flèches gauche / droite</h3>
        <p>
          Clique dans la zone ci-dessous devant "Il" (place le curseur au début) puis utilise les flèches <strong>→</strong> et <strong>←</strong>
          pour atteindre la première lettre <strong>e</strong> du mot <em>texte</em>. L'app te dira quand tu as atteint la bonne position.
        </p>
        <textarea id="ex1" aria-label="Exercice 1 - texte">Il est possible de faire bouger le curseur de texte</textarea>
        <div class="status" id="ex1-status">Statut : en attente</div>
        <div class="actions"><button data-reset="ex1" type="button">Réinitialiser</button></div>
      </article>

      <article class="exercise panel">
        <h3>2) Touches Retour Arrière / Suppr</h3>
        <p>Place le curseur juste devant le "I" et appuie sur Backspace (Retour arrière). Puis place-le à la fin de la ligne et appuie sur Delete (Suppr).</p>
        <textarea id="ex2" aria-label="Exercice 2 - suppression">Il n y a vraiment rien de très intéressant sur cette ligne.</textarea>
        <div class="status" id="ex2-status">Statut : en attente</div>
        <div class="actions"><button data-reset="ex2" type="button">Réinitialiser</button></div>
      </article>

      <article class="exercise panel">
        <h3>3) Majuscules</h3>
        <p>Écris ton prénom + nom en mettant la première lettre en majuscule. L'exercice vérifie la casse des premières lettres.</p>
        <input id="ex3" placeholder="Prénom Nom" aria-label="Prénom Nom" />
        <div class="status" id="ex3-status">Statut : en attente</div>
        <div class="actions">
          <button data-check="ex3" type="button">Vérifier</button>
          <button data-reset="ex3" type="button">Réinitialiser</button>
        </div>
      </article>

      <article class="exercise panel">
        <h3>4) Tabulation (8 zones)</h3>
        <p>Clique dans la zone n°1 puis utilise Tab pour parcourir les 8 zones. L'appli enregistrera l'ordre des focus.</p>
        <div id="tab-zones" aria-label="Zones de tabulation">
          <input data-zone="1" placeholder="Zone n°1" />
          <input data-zone="2" placeholder="Zone n°2" />
          <input data-zone="3" placeholder="Zone n°3" />
          <input data-zone="4" placeholder="Zone n°4" />
          <input data-zone="5" placeholder="Zone n°5" />
          <input data-zone="6" placeholder="Zone n°6" />
          <input data-zone="7" placeholder="Zone n°7" />
          <input data-zone="8" placeholder="Zone n°8" />
        </div>
        <div class="status" id="ex4-status">Ordre : —</div>
        <div class="actions"><button id="ex4-reset" type="button">Réinitialiser</button></div>
      </article>

      <article class="exercise panel">
        <h3>5) Utiliser la touche Shift</h3>
        <p>Objectif : tapez exactement la chaîne cible (majuscules et symboles). L'exercice vérifie que vous avez utilisé Shift et non Caps Lock.</p>
        <div class="target" id="ex5-target" aria-hidden="false" style="margin-bottom:8px; font-weight:600;"></div>
        <input id="ex5" placeholder="Tapez la chaîne cible ici" aria-label="Exercice Shift" />
        <div class="status" id="ex5-status">Statut : en attente</div>
        <div class="actions">
          <button data-check="ex5" type="button">Vérifier</button>
          <button data-reset="ex5" type="button">Réinitialiser</button>
        </div>
      </article>

      <article class="exercise panel">
        <h3>6) Utiliser AltGr (Alt Graph)</h3>
        <p>Objectif : tapez la chaîne contenant des caractères spéciaux (ex : @ € { } | \\, ~). L'exercice vérifie l'usage d'AltGr (ou Ctrl+Alt).</p>
        <div class="target" id="ex6-target" aria-hidden="false" style="margin-bottom:8px; font-weight:600;"></div>
        <input id="ex6" placeholder="Tapez la chaîne cible ici" aria-label="Exercice AltGr" />
        <div class="status" id="ex6-status">Statut : en attente</div>
        <div class="actions">
          <button data-check="ex6" type="button">Vérifier</button>
          <button data-reset="ex6" type="button">Réinitialiser</button>
        </div>
      </article>

      <div id="qcm-placeholder" class="hidden"></div>

      <div id="qcm-result" class="panel hidden" aria-live="polite"></div>

      <section class="notes panel">
        <h3>Notes</h3>
        <ul>
          <li>Certaines combinaisons (AltGr, Alt+F4...) dépendent du système et du navigateur.</li>
          <li>Les exercices pratiques utilisent une textarea/input pour suivre précisément la position du curseur.</li>
        </ul>
      </section>

    </section>

    <aside class="right">
      <div class="panel">
        <h3>QCM — Les zones du clavier et fonctions</h3>

        <form id="qcm-form">
          <div class="q">
            <p class="q-title">1) Comment s'appelle la zone du clavier en couleur rouge sur l'illustration?</p>
            <label><input type="radio" name="q1" value="Le clavier alphanumérique"> Le clavier alphanumérique</label>
            <label><input type="radio" name="q1" value="Les touches de fonction"> Les touches de fonction</label>
            <label><input type="radio" name="q1" value="Le pavé numérique"> Le pavé numérique</label>
            <label><input type="radio" name="q1" value="Les touches de mouvement"> Les touches de mouvement du curseur</label>
          </div>

          <div class="q">
            <p class="q-title">2) Comment s'appelle la zone du clavier en couleur bleue sur l'illustration?</p>
            <label><input type="radio" name="q2" value="Le clavier alphanumérique"> Le clavier alphanumérique</label>
            <label><input type="radio" name="q2" value="Les touches de fonction"> Les touches de fonction</label>
            <label><input type="radio" name="q2" value="Le pavé numérique"> Le pavé numérique</label>
            <label><input type="radio" name="q2" value="Les touches de mouvement"> Les touches de mouvement du curseur</label>
          </div>

          <div class="q">
            <p class="q-title">3) Pourquoi dit-on que les claviers FR et BE sont AZERTY ?</p>
            <label><input type="radio" name="q3" value="ordre"> Parce que les premières touches sont A Z E R T Y</label>
            <label><input type="radio" name="q3" value="concu"> Parce qu'ils ont été conçus par Mr Alfred Zerty</label>
            <label><input type="radio" name="q3" value="fabrique"> C'est le nom de la fabrique</label>
            <label><input type="radio" name="q3" value="polonais"> Ce sont les lettres du polonais</label>
          </div>

          <div class="q">
            <p class="q-title">4) Je voudrais ramener le curseur de texte au début de la ligne. Quelle touche utiliser?</p>
            <label><input type="radio" name="q4" value="Home"> Home</label>
            <label><input type="radio" name="q4" value="Gauche"> Flèche à gauche</label>
            <label><input type="radio" name="q4" value="PageUp"> Page Up</label>
            <label><input type="radio" name="q4" value="NumLock"> Num Lock</label>
          </div>

          <div class="actions" style="margin-top:8px;">
            <button type="button" id="qcm-check">Vérifier le QCM</button>
            <button type="button" id="qcm-reset">Réinitialiser</button>
          </div>
        </form>

        <div id="qcm-result-side" class="panel hidden" aria-live="polite" style="margin-top:8px;"></div>
      </div>

      <div class="panel">
        <h3>Informations</h3>
        <p>Utilisez ces exercices pour apprendre les principales touches : flèches, Backspace, Delete, Tab, Shift, AltGr.</p>
      </div>
    </aside>
  </main>

  <footer class="panel">
    <p style="margin:0;">Développé pour exercice — version simplifiée.</p>
  </footer>

  <!-- Scripts: overlay.js positionne les zones ; app.js contient la logique des exercices -->
  <script src="/keyboard/overlay.js?v=3"></script>
  <script src="/keyboard/app.js?v=3"></script>
</body>
</html>